<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
        <script>
            function initMap() {
              // Create a map object and specify the DOM element for display.
              var map = new google.maps.Map(document.getElementById('map'), {
                center: {lat: 37.422,  lng: -122.084058}, // TODO: center should be user location
                zoom: 13
              });
              
              var request = {
                location: center,
                radius: 8047, // TODO: radius should prob be user input
                types: ['cafe']  // TODO: change this to user input
              }

              var service = new google.maps.places.PlacesService(map);

              service.nearbySearch(request, map); 
            }
            function callback(results, status) {
            if(status == google.maps.places.PlacesServiceStatus.OK){
                for (var i = 0; i < results.length; i++) {
                    createMarker(results[i]);
                }
            }
            }
            function createMarker(place) {
            var placeLoc = place.geometry.location;
            var marker = new google.maps.Marker({
                map: map,
                position: place.geometry.location
            });
        
            }
       </script>
          <script src="https://maps.googleapis.com/maps/api/js?key=***REMOVED***&callback=initMap"
          async defer></script>
        <style>
        html, body, #map {
            height: 100%;
            margin: 0px;
            padding: 0px;
        }
        </style>
    </head>
    <body>
        <div id="map">
        </div>
    </body>
</html>